<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPi Car Infotainment</title>
    <link rel="stylesheet" href="dist/tailwind.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="assets/fonts/fonts.css" />
    <link rel="preload" href="assets/fonts/MaterialSymbolsOutlined.woff2" as="font" type="font/woff2" crossorigin />
</head>
<body class="font-display bg-background-dark text-text-light">
    <div id="app" data-theme="dark" class="font-display">
        <!-- Screen definitions: The new source of truth for the frontend -->
        <div id="screen-definitions" style="display: none;">
            <div data-id="home" data-title="Home"></div>
            <div data-id="music_player" data-title="Music Player"></div>
            <div data-id="library" data-title="Library"></div>
            <div data-id="fm_radio" data-title="FM Radio"></div>
            <div data-id="obd_ii_data" data-title="OBD-II Data"></div>
            <div data-id="airplay_mirroring" data-title="AirPlay"></div>
            <div data-id="logs" data-title="Logs"></div>
            <div data-id="settings" data-title="Settings"></div>
        </div>

        <header class="toolbar">
            <div class="toolbar-left">
                <span id="header-title">RPi Car Infotainment</span>
            </div>
            <div class="toolbar-right">
                <span id="bluetooth-pill" class="pill pill--offline home-symbol">bluetooth</span>
                <span id="clock">00:00</span>
            </div>
        </header>

        <main id="main">
            <section id="screen-home" class="screen active" data-partial="home">
                <div class="partial-loading">Loading home interface…</div>
            </section>

            <section id="screen-music_player" class="screen" data-partial="music_player">
                <div class="partial-loading">Loading music player…</div>
            </section>

            <!-- Added Library Screen -->
            <section id="screen-library" class="screen" data-partial="library">
                <div class="partial-loading">Loading library…</div>
            </section>

            <section id="screen-fm_radio" class="screen" data-partial="fm_radio">
                <div class="partial-loading">Loading radio interface…</div>
            </section>

            <section id="screen-obd_ii_data" class="screen" data-partial="obd_ii_data">
                <div class="partial-loading">Loading OBD dashboard…</div>
            </section>

            <section id="screen-airplay_mirroring" class="screen" data-partial="airplay_mirroring">
                <div class="partial-loading">Loading AirPlay controls…</div>
            </section>

            <section id="screen-logs" class="screen" data-partial="logs">
                <div class="partial-loading">Loading log view…</div>
            </section>

            <section id="screen-settings" class="screen" data-partial="settings">
                <div class="partial-loading">Loading settings overview…</div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-left">
                <button type="button" class="button" data-navigate="home">
                    <span class="home-symbol">home</span>
                </button>
                <button type="button" class="button" data-navigate="settings">
                    <span class="home-symbol">settings</span>
                </button>
                <button id="volume-mute" class="button" title="Mute / Unmute">
                    <span class="home-symbol">volume_off</span>
                </button>
                <input id="volume-slider" type="range" min="0" max="100" value="0">
            </div>
            <div class="footer-right">
                <button id="open-bluetooth" class="button">
                    <span class="home-symbol">bluetooth</span>
                </button>
                <button id="open-wifi" class="button">
                    <span class="home-symbol">wifi</span>
                </button>
                <button id="restart-app" class="button">
                    <span class="home-symbol">restart_alt</span>
                </button>
                <button id="reboot-system" class="button">
                    <span class="home-symbol" style="color: #DC3545;">restart_alt</span>
                </button>
                <button id="quit-app" class="button">
                    <span class="home-symbol" style="color: #DC3545;">power_settings_new</span>
                </button>
            </div>
        </footer>
    </div>

    <script src="qrc:///qtwebchannel/qwebchannel.js"></script>
    <script src="app.js"></script>
</body>
</html>